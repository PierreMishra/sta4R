api <- "http://sta-demo.internetofwater.dev/api/v1.1"
library(httr)
get_location <- function (api){
return GET(url = paste0(api, "/Location"))
}
get_location <- function (api=url){
return GET(url = paste0(api, "/Location"))
}
get_location <- function (api=url){
return GET(url = paste0(api, "/Location"))
}
get_location <- function (api=url){
x <- GET(url = paste0(api, "/Location"))
return (x)
}
L <- get_location
L
L <- get_location(api)
L
get_location <- function (api=url){
x <- GET(url = paste0(api, "/Locations"))
return (x)
}
L <- get_location(api)
L
View(L)
get_location <- function (api){
x <- GET(url = paste0(api, "/Locations"))
return (x)
}
L <- get_location(api)
L
library(httr)
api <- "http://sta-demo.internetofwater.dev/api/v1.1"
# get things
get_things <- function(api) {
x <- GET(url = paste0(api, "/Thing"))
return (x)
}
get_things(api)
# get things
get_things <- function(api) {
x <- GET(url = paste0(api, "/Things"))
return (x)
}
get_things(api
get_things(api = api)
library(jsonlite)
?jsonlite
# get things
get_things <- function(api) {
x <- GET(url = paste0(api, "/Things"))
df <- toJSON(x)
return (x)
}
# get things
get_things <- function(api) {
x <- GET(url = paste0(api, "/Things"))
df <- toJSON(x)
return (df)
}
df
get_things(api = api)
# get things
get_things <- function(api) {
x <- GET(url = paste0(api, "/Things"))
df <- fromJSON(x)
return (df)
}
get_things(api=api)
# get things
get_things <- function(api) {
x <- GET(url = paste0(api, "/Things"))
df <- fromJSON(as.character(x))
return (df)
}
get_things(api=api)
things <- get_things(api = api)
View(things)
things$value
head(things$value)
# get things
get_things <- function(api) {
x <- GET(url = paste0(api, "/Things"))
df <- fromJSON(as.character(x))
return (df$value)
}
things <- get_things(api = api)
View(things)
a <- papa
papa <- "char"
a <- papa
get(papa)
'get(papa)'
# get things (by iot_id & name)
get_things <- function(api, iot_id, name) {
if (missing(iot_id) && missing(name)){
x <- GET(url = paste0(api, "/Things"))
df <- fromJSON(as.character(x))
return (df$value)
}
else if (missing(iot_id)) {
x <- GET (url = paste0(api, "/Things?$filter=name eq ", name))
df <- fromJSON(as.character(x))
return (df$value)
}
else if (missing(iot_name)) {
x <- GET (url = paste0(api, "/Things?$filter=@iot.id eq ", iot_id))
df <- fromJSON(as.character(x))
return (df$value)
}
}
get_things(api=api)
abc <- get_things(api=api, iot_id=2)
# get things (by iot_id & name)
get_things <- function(api, iot_id, name) {
if (missing(iot_id) && missing(name)){
x <- GET(url = paste0(api, "/Things"))
df <- fromJSON(as.character(x))
return (df$value)
}
else if (missing(iot_id)) {
x <- GET (url = paste0(api, "/Things?$filter=name eq ", name))
df <- fromJSON(as.character(x))
return (df$value)
}
else if (missing(name)) {
x <- GET (url = paste0(api, "/Things?$filter=@iot.id eq ", iot_id))
df <- fromJSON(as.character(x))
return (df$value)
}
}
abc <- get_things(api=api, iot_id=2)
abc <- get_things(api=api, iot_id='2')
abc <- get_things(api=api, iot_id="2")
id <- 2
abc <- get_things(api=api, iot_id=id)
name <- 'TV-157'
abc <- get_things(api=api, name=name)
paste0(api, "/Things?$filter=name eq ", name)
paste0(api, "/Things?$filter=@iot.id eq ", iot_id
paste0(api, "/Things?$filter=@iot.id eq ", iot_id)
iot_id <- 2
paste0(api, "/Things?$filter=@iot.id eq ", iot_id)
# get things (by iot_id & name)
get_things <- function(api, iot_id, name) {
if (missing(iot_id) && missing(name)){
x <- GET(url = paste0(api, "/Things"))
df <- fromJSON(as.character(x))
return (df$value)
} else if (missing(name)) {
x <- GET (url = paste0(api, "/Things?$filter=@iot.id eq ", iot_id))
df <- fromJSON(as.character(x))
return (df$value)
}
}
get_things(api=api, iot_id = iot_id)
# get things (by iot_id & name)
get_things <- function(api, iot_id = NULL, name = NULL) {
if (iot_id == NULL && name == NULL){
x <- GET(url = paste0(api, "/Things"))
df <- fromJSON(as.character(x))
return (df$value)
}
else if (iot_id == NULL) {
x <- GET (url = paste0(api, "/Things?$filter=name eq ", name))
df <- fromJSON(as.character(x))
return (df$value)
}
else if (name == NULL) {
x <- GET (url = paste0(api, "/Things?$filter=@iot.id eq ", iot_id))
df <- fromJSON(as.character(x))
return (df$value)
}
}
get_things(api=api, iot_id=iot_id)
# get things (by iot_id & name)
get_things <- function(api, iot_id = NULL, name = NULL) {
if (iot_id == NULL & name == NULL){
x <- GET(url = paste0(api, "/Things"))
df <- fromJSON(as.character(x))
return (df$value)
}
else if (iot_id == NULL) {
x <- GET (url = paste0(api, "/Things?$filter=name eq ", name))
df <- fromJSON(as.character(x))
return (df$value)
}
else if (name == NULL) {
x <- GET (url = paste0(api, "/Things?$filter=@iot.id eq ", iot_id))
df <- fromJSON(as.character(x))
return (df$value)
}
}
get_things(api=api, iot_id=iot_id)
# get things (by iot_id & name)
get_things <- function(api, iot_id = NULL, name = NULL) {
if (is.null(iot_id) & is.null(name)){
x <- GET(url = paste0(api, "/Things"))
df <- fromJSON(as.character(x))
return (df$value)
} else if (is.null(iot_id)) {
x <- GET (url = paste0(api, "/Things?$filter=name eq ", name))
df <- fromJSON(as.character(x))
return (df$value)
}
else if (is.null(name)) {
x <- GET (url = paste0(api, "/Things?$filter=@iot.id eq ", iot_id))
df <- fromJSON(as.character(x))
return (df$value)
}
}
get_things(api=api, iot_id=iot_id)
# get things (by iot_id & name)
get_things <- function(api, iot_id = NULL, name = NULL) {
if (is.null(iot_id) & is.null(name)){
x <- GET(url = paste0(api, "/Things"))
df <- fromJSON(as.character(x))
return (df$value)
} else if (is.null(iot_id)) {
x <- GET (url = paste0(api, "/Things?$filter=name eq ", name))
df <- fromJSON(as.character(x))
return (df$value)
} else if (is.null(name)) {
x <- GET (url = paste0(api, "/Things?$filter=@iot.id eq ", iot_id))
df <- fromJSON(as.character(x))
return (df$value)
}
}
get_things(api=api, iot_id=iot_id)
# get things (by iot_id & name)
get_things <- function(api, iot_id = NULL, name = NULL) {
if (is.null(iot_id) & is.null(name)){
x <- GET(url = paste0(api, "/Things"))
df <- fromJSON(as.character(x))
return (df)
} else if (is.null(iot_id)) {
x <- GET (url = paste0(api, "/Things?$filter=name eq ", name))
df <- fromJSON(as.character(x))
return (df)
} else if (is.null(name)) {
x <- GET (url = paste0(api, "/Things?$filter=@iot.id eq ", iot_id))
df <- fromJSON(as.character(x))
return (df)
}
}
get_things(api=api, iot_id=iot_id)
paste0(api, "/Things?$filter=@iot.id eq ", iot_id)
is.null(iot_id)
is.null(name)
is.null(name)
library(httr)
library(jsonlite)
api <- "http://sta-demo.internetofwater.dev/api/v1.1"
# get things (by iot_id & name)
get_things <- function(api, iot_id = NULL, name = NULL) {
if (is.null(iot_id) & is.null(name)){
x <- GET(url = paste0(api, "/Things"))
df <- fromJSON(as.character(x))
return (df)
} else if (is.null(iot_id)) {
x <- GET (url = paste0(api, "/Things?$filter=name eq ", name))
df <- fromJSON(as.character(x))
return (df)
} else if (is.null(name)) {
x <- GET (url = paste0(api, "/Things?$filter=@iot.id eq ", iot_id))
df <- fromJSON(as.character(x))
return (df)
}
}
get_things(api=api, iot_id=2)
get_things(api=api)
abc <- get_things(api=api)
abc <- get_things(api=api, iot_id = 2)
